<ng-container *ngIf="!isEditing">
  <mat-card class="card">
    <mat-card-content>
      <mat-grid-list cols="12" rowHeight="50px" gutterSize="15px">
        <mat-grid-tile colspan="12">
          <mat-form-field class="full-width" appearance="fill">
            <mat-label>Chercher par numero de dossier, par patient ou par clinique</mat-label>
            <input [(ngModel)]="filterarg" filterarg matInput placeholder="Ex. x-12345">
          </mat-form-field>
        </mat-grid-tile>
      </mat-grid-list>
    </mat-card-content>
  </mat-card>

  <mat-card class="card" *ngFor="let item of items | interventionFilter:filterarg">
    <app-intervention-card [item]="item"></app-intervention-card>
  </mat-card>

  <mat-grid-list cols="12" rowHeight="50px" gutterSize="15px" class='action'>
    <mat-grid-tile colspan="12">
      <button mat-stroked-button color="primary" (click)="onAdd()" class="full-width"> + Ajouter une
        intervention
      </button>
    </mat-grid-tile>
  </mat-grid-list>
</ng-container>


<ng-container *ngIf="isEditing">

  <mat-grid-list cols="12" rowHeight="50px" gutterSize="15px">

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="form">
      <mat-grid-tile colspan="12">
        <mat-form-field class="full-width" appearance="fill">
          <mat-label>Clinique</mat-label>
          <input matInput placeholder="" value="" formControlName="clinique">
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile colspan="12">
        <mat-form-field class="full-width" appearance="fill">
          <mat-label>Numero de dossier clinique</mat-label>
          <input matInput placeholder="" value="" formControlName="ref">
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile colspan="12">
        <mat-form-field class="full-width" appearance="fill">
          <mat-label>Nom</mat-label>
          <input matInput placeholder="" value="" formControlName="f_name">
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile colspan="12">
        <mat-form-field class="full-width" appearance="fill">
          <mat-label>Prénom</mat-label>
          <input matInput placeholder="" value="" formControlName="l_name">
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile colspan="12">
        <mat-form-field class="full-width" appearance="fill">
          <mat-label>Date d'admission</mat-label>
          <input matInput placeholder="" value="" formControlName="admission_date">
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile colspan="12">
        <mat-form-field class="full-width" appearance="fill">
          <mat-label>Motif d'intervention</mat-label>
          <input matInput placeholder="" value="" formControlName="motif">
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile colspan="12">
        <mat-form-field class="full-width" appearance="fill">
          <mat-label>État</mat-label>
          <input matInput placeholder="" value="" formControlName="status">
        </mat-form-field>
      </mat-grid-tile>
    </form>
  </mat-grid-list>

  <mat-grid-list cols="12" rowHeight="50px" gutterSize="15px">
    <mat-grid-tile colspan="6">
      <button mat-raised-button color="primary" (click)="onSubmit()" class="full-width">Sauvegarder</button>
    </mat-grid-tile>
    <mat-grid-tile colspan="6">
      <button mat-stroked-button color="warn" (click)="onCancel()" class="full-width">Annuler</button>
    </mat-grid-tile>
  </mat-grid-list>
</ng-container>
